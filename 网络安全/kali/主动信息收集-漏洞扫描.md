
# 主动信息收集 - 漏洞扫描

* nmap

* openvas

* nessus

* nexpose

## nmap
```sbtshell

    grep vuln /usr/share/nmap/scripts/script.db | cut -d "\" -f 2 

    漏洞{
        smb-vuln-ms10-061.nse {
				
            原理: print spooler权限不当，lanman api 发现共享打印机

            影响范围：windows xp,server 2003 sp2, vista, server 2008, win 7

			nmap -p445 --script=smb-enum-shares.nse --script-args=smbuser=admin,smbpassword=pass 192.168.1.1

            }
        }
```

## openvas
```sbtshell
    a.
	    安装
	    创建证书
	    同步弱点数据库
	    创建客户端证书
	    重建数据库
	    备份数据库
	    启动服务装入插件
	    创建管理员账号
	    创建普通用户账号
	    配置服务侦听端口
	    安装验证

    b. 
	    kali中直接使用 openvas-setup
	    检查安装	   openvas-check-setup
	    查看当前账号   openvasmd --list-users 
	    修改账号密码   openvasmd --user=admin --new-password=Pass0rd 
	    升级           openvas-feed-update
	    web登录		   https://127.0.0.1:9392
	    启动失败{
		    1. vi /usr/bin/openvas-start 
			    starting openvas services 
			    starting openvas manager: openvasmd
			    starting openvas scanner: openvassd
			    starting greenbone security assistant: gsad
		}

		原理：
		    a. openvas manager 
			    控制scanner和其他manager的中心组件
			    控制中心数据库，保存用户配置及扫描结果
			    客户端使用基于xml的无状态omp协议及其通信
			    集中排序筛选，使客户端得一致展现
		    b. openvas scanner
			    具体执行network vulnerability tests
			    nvts 每天通过feed更新
			    受manager控制

		    c. osp scanner
			    可以统一管理多个scanner
			    将一组scanner作为一个对象交给manager管理 
						
			d. greenbone security assistant（FSA）
			    提供web service
						
		    e. openvas cli
			    omp 命令行工具，可实现批处理控制manager

```


## nessus
```sbtshell
    下载:  http://www.tenable.com/products/nessus/select-your-operating-system 

    安装:  dpkg -i nessus.deb
        安装路径:  /opt/nessus 

    启动:  /etc/init.d/nessusd start 

    地址:  https://127.0.0.1:8834/ 
```


## nexpose

